<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>
Emacs Tiny Tools information for developers
</title>




  <meta http-equiv="keywords"
	CONTENT="Emacs, Emacs Lisp, Tiny Tools Documentation">

  <meta http-equiv="description"
	content="">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Expires" content="Wed,  8 Oct 2008 15:00:21 GMT">









    <style type="text/css">



        /*

            ///////////////////////////////////////////////////////////
               NOTE    NOTE    NOTE    NOTE    NOTE    NOTE    NOTE

            This is the default CSS 2.0 generated by the program,
            to import your own CSS and Java definitions into the page.

            XHTML note: at page http://www.w3.org/TR/xhtml1/#guidelines
            It is recommended that CSS2 with XHTML use lowercase
            element and attribute names

            This default CSS2 has been validated according to
            http://jigsaw.w3.org/css-validator/validator-uri.html.en

            To design colors, visit:
            http://www.btexact.com/people/rigdence/colours/

               NOTE    NOTE    NOTE    NOTE    NOTE    NOTE    NOTE
            ///////////////////////////////////////////////////////////

            Comments on the CSS tags:

            -   block-width: "thin" (Netscape ok, MSIE nok)

            NETSCAPE 4.05

            -  In general does not render CSS very well. Eg
               font size changes does not show up in screen.
            -  :hover property is not recognised

            NETSCAPE 4.75 as of 2000-10-01

            -  Shows garbage for stylesheet section that marked CITATION.
               (IE has no trouble to show it)

            MSIE 4.0+

            - Renders CSS very well.

            Media types

            - Netscape does not transfer the CSS element definitions to
              the "print" media as it should. They only affect Browser
              or media "screen"
            - That is why you really have to say EM STRONG ... /STRONG EM
              to get that kind of text seen in printer too. You cannot
              just define P.column7 { ... }

            The @media CSS definition is not supported by Netscape 4.05
            I do not know if MSIE 4.0 supports it.

            So doing this would cause CSS to be ignored completely
            (never mind that CSS says the default CSS applies to "visual",
            which means both print and scree types.)

                @media print, screen {  P.code {..}  }

            To work around that, we separate the definitions with

                P.code { .. }               // For screen

                @media print { P.code      // for printer
                {
                    ..
                }}

            And wish that some newer browser will render it right.

        */

        /*   ///////////////////////////////////////////////// HEADINGS */

        h1.default
        {
            font-family: bold x-large Arial,helvetica,Sans-serif;
            padding-top: 10pt;
        }

        h2.default
        {
            font-family: bold large Arial,Helvetica,Sans-serif;
        }

        h3.default
        {
            font-family: bold medium Arial,Helvetica,Sans-serif;
        }

        h4.default
        {
            font-family: medium Arial,Helvetica,Sans-serif;
        }

        /*   ////////////////////////// Make pointing AHREF more visual */

        body
        {
            font-family: "Times New Roman", serif;


            /*
                More readable font, Like Arial in MS Word
                The background color is grey

                font-family: "verdana", sans-serif;
                background-color: #dddddd;
                foreground-color: #000000;

                Traditional "Book" and newspaper font
                font-family: "Times New Roman", serif;
            */
        }

        a:link
        {
            font-style: italic;
        }

        /*   A name=... link references */

        a.name
        {
            font-style: normal;
        }

        a:hover
        {
            color:           purple;
            background:      #AFB;
            text-decoration: none;
        }

            /* cancel above italic in TOC and Navigation buttons */

        a.btn:link
        {
            font-style: normal;
        }

            /* each link in TOC */


        a.toc
        {
            font-family: verdana, sans-serif;
            font-style: normal;
        }

        a.toc:link
        {
            font-style: normal;
        }

            /* [toc] heading button which appears in non-frame html */

        a.btn-toc:link
        {
            font-style: normal;
            font-family: verdana, sans-serif;
            /* font-size:  0.7em; */
        }

        /*  //////////////////////////////////// Format the code sections  */

        /*  MSIE ok, Netscape nok: Indent text to same level to the right  */

        blockquote
        {
            margin-right: 2em;
        }

        @media print   { BLOCKQUOTE
        {
            margin-right: 0;
        }}

        samp.code
        {
            color: Navy;
        }

        hr.special
        {
            width: 50%;
            text-align; left;
        }

        pre
        {
            font-family:   "Courier New", monospace;
            font-size:     0.8em;
            margin-top:    1em;
            margin-bottom: 1em;
        }

        pre.code
        {
            color: Navy;
        }

        p.code, p.code1, p.code2
        {
            /*
               margin-top:     0.4em;
               margin-bottom:  0.4em;
               line-height:    0.9em;
            */

            font-family:    "Courier New", monospace;
            font-size:      0.8em;
            color:          Navy;
        }

        /* //////////////////////// tables /////////////////////////// */

        table
        {
            border: none;
            width: 100%;
            cellpadding: 10px;
            cellspacing: 0px;
        }

        table.basic
        {
                font-family:    "Courier New", monospace;
                color: Navy;
        }

        table.dashed
        {

                /* font-family: sans-serif; /*
                /* background:  #F7DE9C; */

                color: Navy;

                border-top:     1px #999999 solid;
                border-left:    1px #999999 solid;
                border-right:   1px #666666 solid;
                border-bottom:  1px #666666 solid;
                border-width:   94%;
                border-style: dashed; /* dotted */


                /* line-height: 105%; */
        }

        table.solid
        {
                font-family:    "Courier New", monospace;
                /* afont-size:      0.8em; */

                color:          Navy;

                /* font-family: sans-serif; /*
                /* background:  #F7DE9C; */

                border-top:     1px #CCCCCC solid;
                border-left:    1px #CCCCCC solid; /* 999999 */
                border-right:   1px #666666 solid;
                border-bottom:  1px #666666 solid; /* dark grey */
                /* line-height: 105%; */
        }

        /* Make 3D styled layout by thickening the boton + right. */

        table.shade-3d
        {
                font-family:    "Courier New", monospace;
                font-size:      0.8em;

                color:          #999999; /* Navy; */

                /* font-family: sans-serif; /*
                /* background:  #F7DE9C; */

                /* border-top:  1px #999999 solid; */
                /* border-left: 1px #999999 solid; */
                border-right:   4px #666666 solid;
                border-bottom:  3px #666666 solid;
                /* line-height: 105%; */
        }

        .shade-3d-attrib
        {
            /*
                F9EDCC          Light Orange
                FAEFD2          Even lighter Orange

                #FFFFCC         Light yellow, lime

            */

            background: #FFFFCC;
        }

        table tr td pre
        {
                /*  Make PRE tables "airy" */
                margin-top:    1em;
                margin-bottom: 1em;
        }

        table.shade-normal
        {
                font-family:    "Courier New", monospace;
                /* font-size:      0.9em; */
                color:          Navy;
        }

        .shade-normal-attrib
        {
            /*  grey: EAEAEA, F0F0F0 FFFFCC
                lime: F7F7DE CCFFCC
                pinkish: E6F1FD D8E9FB C6DEFA FFEEFF (light ... darker)
                slightly darker than F1F1F1: #EFEFEF;
            */
            background: #F1F1F1;
        }

        table.shade-normal2
        {
                font-family:    "Courier New", monospace;
        }

        .shade-normal2-attrib
        {
            background: #E0E0F0;
        }

        .shade-note-attrib
        {
            /*  darker is #E0E0F0; */
            /* background: #E5ECF3; */
            background: #E5ECF3;
            font-family: Georgia, "New Century Schoolbook",
                         Palatino, Verdana, Helvetica, serif;
            font-size: 0.8em;
        }

        /* ..................................... colors ................. */

        .color-white
        {
            color: Navy;
            background: #FFFFFF;
        }

        .color-fg-navy
        {
            color: navy;
        }

        .color-fg-blue
        {
            color: blue;
        }

        .color-fg-teal
        {
            color: teal;
        }

        /*   Nice combination: teal-dark, beige2 and  beige-dark */

        .color-teal-dark
        {
            color: #96EFF2;
        }

        .color-beige
        {
            color: Navy;
            background: #F7F7DE;
        }

        .color-beige2
        {
            color: Navy;
            background: #FAFACA;
        }

        .color-beige3
        {
            color: Navy;
            background: #F5F5E9;
        }

        .color-beige-dark
        {
            color: Navy;
            background: #CFEFBD;
        }

        .color-pink-dark
        {
            background: #E6F1FD;
        }

        .color-pink-medium
        {
            background: #D8E9FB;
        }

        .color-pink
        {
            /*  grey: EAEAEA, F0F0F0 FFFFCC
                lime: F7F7DE CCFFCC
                pinkish: E6F1FD D8E9FB C6DEFA FFEEFF (light ... darker)
            */
            background: #C6DEFA;
        }

        .color-pink-light
        {
            background: #FFEEFF;
        }

        .color-blue-light
        {
            background: #F0F0FF;
        }

        .color-blue-medium
        {
            background: #4A88BE;
        }

        /* ////////////////////////////////////////////// Format columns */

        p.column3
        {
            color: Green;
        }

        p.column5
        {
            color: #87C0FF;   /* shaded casual blue */
        }

        p.column6
        {
            /* #809F69 is Forest green
               But web safe colors are:
               Lighter  ForestGreen: 66CC00
               ForestGreen: #999966 669900 339900 669966

            color: #669900;
            font-family: "Goudy Old Style"
            */
            margin-left: 3em;
            font-family: Georgia, "New Century Schoolbook",
                         Palatino, Verdana, Arial, Helvetica;
            font-size:  0.9em;
        }

            /* This is so called 3rd heading */

        p.column7
        {
            font-style:  italic;
            font-weight: bold;
        }

        @media print { P.column7
        {
            font-style:  italic;
            font-weight: bold;
        }}

        p.column8
        {

        }

        p.column9
        {
            font-weight: bold;
        }

        p.column10
        {
            padding-top: 0;
        }

        em.quote10
        {
            /*
                #FF00FF Fuchsia;
                #0000FF Blue

                #87C0FF casual blue
                #87CAF0

                #A0FFFF Very light blue

                #809F69 = Forest Green , see /usr/lib/X11/rgb.txt

                background-color:

                color: #80871F ; Orange, short of

                # font-family: "Gill Sans", sans-serif;

                line-height: 0.9em;
                font-style:  italic;
                font-size:   0.8em;

                line-height: 0.9em;
                color: #008080;

                background-color: #F5F5F5;
                #809F69; forest green
                #F5F5F5; Pale grey
                #FFf098; pale green
                ##bfefff; #ffefff; LightBlue1

                background-color: #ffefff;

                .................
                #FFFCE7         Orange very light
                #FFE7BF         Orange dark
                #FFFFBF         Orange limon

             */

             /*
             #  See a nice page at
             #  http://www.cs.helsinki.fi/linux/
             #  http://www.cs.helsinki.fi/include/tktl.css
             #
             #  3-4 of these first fonts have almost identical look
             #  Browser will pick the one that is supported
             */

             font-family: lucida, lucida sans unicode, verdana, arial, "Trebuchet MS", helvetica, sans-serif;
             background-color: #eeeeff;
             font-size:   0.8em;
        }

        @media print { em.quote10
        {
            font-style:  italic;
            line-height: 0.9em;
            font-size:   0.8em;
        }}

        p.column11
        {
            font-family: arial, verdana, helvetica, sans-serif;
            font-size: 0.9em;
            font-style: italic;
            color: Fuchsia;
        }

        /* /////////////////////////////////////////////// Format words */

        em.word
        {
            /* #809F69 Forest green */
            color: #80B06A;  /*Darker Forest green */
        }

        strong.word
        {

        }

        samp.word
        {
            color: #4C9CD4;
            font-weight: bold;
            font-family:    "Courier New", monospace;
            font-size:      0.85em;
        }

        span.super
        {
            /* superscripts */
            color: teal;
            vertical-align: super;
            font-family: Verdana, Arial, sans-serif;
            font-size: 0.8em;
        }

        span.word-ref
        {
            color: teal;
        }

        span.word-big
        {
            color: teal;
            font-size: 1.2em;
        }

        span.word-small
        {
            color: #CC66FF;
            font-family: Verdana, Arial, sans-serif;
            font-size: 0.7em;
        }

        /* /////////////////////////////////////////////// Format other */

        /* 7th column starting with double quote */

        span.quote7
        {
            /* color: Green; */
            /* font-style: italic; */
            font-family: Verdana;
            font-weigh: bold;
            font-size: 1em;
        }

        /* This appears in FRAME version: xxx-toc.html */

        div.toc
        {
            font-size: 0.8em;
        }

        /* This appears in picture: the acption text beneath */

        div.picture
        {
            font-style: italic;
        }

        /* This is the document info footer */

        em.footer
        {
            font-size: 0.9em;
        }


    </style>



    <script type="text/javascript">

        function MakeVisual(obj)
        {
            obj.style.fontWeight = "italic";
        }

        function MakeNormal(obj)
        {
            obj.style.fontWeight = "normal";
        }

        function IgnoreErrors()
        {
            return true;
        }

        window.onerror = IgnoreErrors;

    </script>

        </head>

<body >




<div class="toc" id="toc">
<a name="toc" id="toc" class="name"></a>
<h1>
    Table of Contents

</h1>

<a href="#tiny_tools_project_introduction" class="toc">
               1.0 Tiny Tools Project Introduction
           </a>
           <br>

<ul>
<li>
           <a href="#audience" class="toc">
               1.1 Audience
           </a>
           <br>
<li>
           <a href="#making_releases" class="toc">
               1.2 Making releases
           </a>
           <br>
<li>
           <a href="#downloading_sources_for_editing" class="toc">
               1.4 Downloading sources for editing
           </a>
           <br>
<li>
           <a href="#project_web_page_locations" class="toc">
               1.5 Project web page locations
           </a>
           <br>
<li>
           <a href="#project_documentation" class="toc">
               1.6 Project documentation
           </a>
           <br>
</ul>
<a href="#development_environment_setup_information" class="toc">
               2.0 Development environment setup information
           </a>
           <br>

<ul>
<li>
           <a href="#setting_up_openssh" class="toc">
               2.1 Setting up OpenSSH
           </a>
           <br>
<li>
           <a href="#bash_admin_utilities" class="toc">
               2.2 Bash admin utilities
           </a>
           <br>
<li>
           <a href="#making_debian_packages" class="toc">
               2.3 Making Debian packages
           </a>
           <br>
</ul>

</div>



<hr>
               <a name="tiny_tools_project_introduction"  id="tiny_tools_project_introduction"></a>
               <h1>
               1.0 Tiny Tools Project Introduction

               </h1>



<p class="column8">
        Copyright 1995-2008 Jari Aalto


<p class="column8">
        License: This material may be distributed only subject to the
        terms and conditions set forth in GNU General Public License
        v2 or later; or, at your option, distributed under the terms
        of GNU Free Documentation License version 1.2 or later (GNU
        FDL).



  <a name="audience" id="audience"></a>
  <h2>
      1.1 Audience

  </h2>




<p>
<p class="column8">
        This paper documents the usage of development repository to a
        to a new project member who wishes to participate in
        development.



  <a name="making_releases" id="making_releases"></a>
  <h2>
      1.2 Making releases

  </h2>




<p>
<p class="column8">
        To make a new file releases, follow these steps. We
        suppose that the file where the complete release is named as
        <samp class="word">tiny-tools-YYYY.MMDD.zip</samp> following the ISO 8601 date
        standard and the universal de facto file packaging standard
        PACKAGENAME-VERSION.VERSION[.VERSION]*


<p class="column8">
        #TODO: change to Savannah instructions

<ul>
	<li>Upload the file to project page.
            PLEASE DO THIS FIRST - YOU WILL PICK FILE LATER.
<li>Login in to your account
	</li>
<li>Go to project page
	</li>
<li>Select page &quot;Admin&quot; =&gt; &quot;File Releases&quot; from the menus at top
	</li>
<li>Scroll to the end where you see &quot;File Release Packages&quot;
	</li>
<li>Select &quot;Add Release&quot; button.
            Fill in &quot;Create new release&quot; with the timestamp YYYY.MMDD.
	            Select &quot;Create this release&quot;.</li>
</ul>




<p class="column8">
        New page opens:

<ul>
	<li>Step 1: Fill in the description to &quot;Release notes&quot;
            Click the button &quot;submit/refresh&quot;
<li>Step 2: Select tiny-tools-YYYY.MMDD.zip
            Click button &quot;add Files and/or Refresh View&quot;
	</li>
<li>Step 3:
            Processor =&gt; Platform independent
            file Type =&gt; Source .gz
            Click button &quot;update/refresh&quot;
	<li>Step 4: Send message to people monitoring the package.</li>
</ul>




<p class="column8">
        RETURN by pressing button &quot;Summary&quot; at the beginning of page.



  <a name="downloading_sources_for_editing" id="downloading_sources_for_editing"></a>
  <h2>
      1.4 Downloading sources for editing

  </h2>




<p>
<p class="column8">
        You need SSH and Git installed.


<p class="column8">
        To develop under Windows, install Cygwin
        <a href="http://www.cygwin.com/" >http://www.cygwin.com/</A> =&gt; See link at the right hand corner
        and download <samp class="word">setup.exe</samp>.



  <a name="project_web_page_locations" id="project_web_page_locations"></a>
  <h2>
      1.5 Project web page locations

  </h2>




<p>
<p class="column8">
        #TODO: change to Savannah instructions


<p class="column8">
        At project server, web sites are located under /home/groups
        Project FTP Sites are located in
        /home/groups/ftp/pub/p/pr/ROJECT-NAME

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      /home/users   : User Based Quota 2MB Soft 4MB Hard
      /home/groups  : Group Based Quota 100MB Soft 125MB Hard    </pre></td>
    </tr>
</table>



  <a name="project_documentation" id="project_documentation"></a>
  <h2>
      1.6 Project documentation

  </h2>




<p>
<p class="column8">
        #TODO: change to Savannah instructions


<p class="column8">
        Visit the project main page &lt;project website&gt;/PROJECT-NAME
        (make sure you have logged in) and select from the left hand
        list <em class="word">project</em> <em class="word">admin</em>. You arrive to the new page, Scroll to
        the bottom to &quot;Tool Admin&quot; and go to <em class="word">DocManagerAdmin</em> and
        fill in the project documentation. BEFORE anything else, you
        must define a document group like <strong class="word">General</strong>.

<hr>
               <a name="development_environment_setup_information"  id="development_environment_setup_information"></a>
               <h1>
               2.0 Development environment setup information

               </h1>



  <a name="setting_up_openssh" id="setting_up_openssh"></a>
  <h2>
      2.1 Setting up OpenSSH

  </h2>




<p>
<p class="column10"><em class="quote10">
          For Unix, get SSH from &lt;<a href="http://www.openssh.org/" >http://www.openssh.org/</A>&gt;. OpenSSH is
          already include in the Win32/Cygwin.</em>



<p class="column8">
        Using SSH is not the most straight forward thing, especially with
        all the protocol version numbers involved. You can easily go wrong or
        wonder why things are not working. Here are some basic instructions
        for OpenSSH, which is different form all other ssh version out
        there. Cygwin includes OpenSSH.

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      $ ssh -V        # display ssh version    </pre></td>
    </tr>
</table>


<p class="column8">
        Generate two keys, the SSH1 key first:

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      $ ssh-keygen    # Proceed as the command suggests    </pre></td>
    </tr>
</table>


<p class="column8">
        Then the SSH2 key:

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      $ ssh-keygen -f ~/.ssh/id_dsa -t dsa    </pre></td>
    </tr>
</table>


<p class="column8">
        Configure SSH by editing ~/.ssh/config, the protocol line is
        very important.

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      Host *
          Protocol                    1,2
          UsePrivilegedPort           no
          Compression                 yes
          CompressionLevel            9
          KeepAlive                   yes
          RhostsAuthentication        yes
          RSAAuthentication           yes
          PubkeyAuthentication        yes
          PasswordAuthentication      yes
          FallBackToRsh               yes
          ForwardX11                  yes
          ForwardAgent                yes    </pre></td>
    </tr>
</table>


<p class="column8">
        For Windows, you're set. But if this is Unix, you need to set
        file and directory permission to correct values as well. SSH
        is very picky and won't work correctly if it thinks that the
        permissions are too loose.

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      $ chmod 700 ~/.ssh
      $ chmod 600 ~/.ssh/identity* ~/.ssh/config ~/.ssh/id_dsa*    </pre></td>
    </tr>
</table>


<p class="column8">
        Final thing, to connect a remote site, you have to CARRY the key
        there. The keys that you will copy to remote site are the SSH1 and
        SSH2 keys you just generated. The files are:

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      From (A) site               Copy to (B) site
      ~/.ssh/identity.pub         ~/.ssh/known_hosts
      ~/.ssh/id_dsa.pub           ~/.ssh/id_dsa_A_site.pub    </pre></td>
    </tr>
</table>


<p class="column8">
        Again, remember to set chmod 600 permission in remote (B) site.
        Now you should be all set to be ready to connect to remote site.
        One final thing, always run all programs under agent, which
        remembers and passes forward your keys (ssh1 and aah2):

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      $ ssh-add ~/.ssh/identity ~/.ssh/id_dsa    </pre></td>
    </tr>
</table>


<p class="column8">
        After that you can connect to remote site without password, because
        agent makes the hand shake for your with your keys. Run <em class="word">verbose</em>
        mode on to pinpoint any troubles with the connection:

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      $ ssh -l LOGIN shell.&lt;project site&gt;    </pre></td>
    </tr>
</table>


<p class="column8">
        If that works, you can expect that the CVS works without
        password under ssh-agent for your project (REMEMBER: you have
        to send the ~/.ssh/identity.pub through WWW-user-admin page,
        described earlier in this document for CVS to work)



  <a name="bash_admin_utilities" id="bash_admin_utilities"></a>
  <h2>
      2.2 Bash admin utilities

  </h2>




<p>
<p class="column8">
        Under <samp class="word">bin/admin.bashrc</samp> there is administrative file that
        automates project tasks.  Follow the instruction in the file.



  <a name="making_debian_packages" id="making_debian_packages"></a>
  <h2>
      2.3 Making Debian packages

  </h2>




<p>
<p class="column8">
        First, become a debian developer by reading this document
        <a href="http://www.debian.org/doc/developers-reference/index.en.html" >http://www.debian.org/doc/developers-reference/index.en.html</A>


<p class="column8">
        The initial debian package skeleton was generated with following manner

<p>
<table class="shade-normal">
    <tr>
    <td class="shade-normal-attrib" valign="top">
    <pre>
      &lt;download the latest release&gt;
      $ mv tiny-NNNN.NNNN emacs-tiny-tools-NNNN.NNNN
      $ cd emacs-tiny-tools-NNNN.NNNN
      $ export DEBFULLNAME=&quot;Firstname Surname&quot;
      $ dh_make --single --email EMAIL --copyright gpl    </pre></td>
    </tr>
</table>




<hr>
<em    class="footer">
<p>
This file has been automatically generated from plain text file
with
<br>
Last updated: 2008-08-09 18:00<br>
</em    class="footer">
</body>
</html>
